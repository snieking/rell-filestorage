import ft3_acc: lib.ft3.account;
import util;

function get_voucher_price(billing_plan: plan): integer {
	if (plan.STANDARD == billing_plan) {
		return 1;
	} else {
		return 2;
	}
}

function get_active_invoice(account: ft3_acc.account, timestamp): voucher? {
	val MONTH_MILLIS = util.get_period_in_millis("month");
	return voucher@?{ account, .timestamp > timestamp + MONTH_MILLIS } limit 1;
}